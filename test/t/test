//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>
#include <stdlib.h>

// ------------------------ Structures ------------------------

struct vtable_3d20_type {
    int64_t (*e0)(int64_t *);
    int64_t (*e1)(int64_t *);
    void (*e2)(int64_t *);
    void (*e3)(int64_t *);
};

struct vtable_3d50_type {
    int64_t (*e0)(int64_t *);
    int64_t (*e1)(int64_t *);
    void (*e2)(int64_t *);
    void (*e3)(int64_t *);
};

// ------------------------- Classes --------------------------

// Base
// Derived (base classes: Base)

// ------------------- Function Prototypes --------------------

int64_t __do_global_dtors_aux(void);
int64_t _fini(void);
int64_t _init(void);
int64_t _start(int64_t a1, int64_t a2, int64_t a3, int64_t a4, int64_t a5, int64_t a6);
int64_t _ZN4Base4showEv(int64_t * result);
int64_t _ZN4Base5printEv(int64_t * result);
void _ZN4BaseC2Ev(int64_t * result);
void _ZN4BaseD0Ev(int64_t * result);
void _ZN4BaseD2Ev(int64_t * result);
int64_t _ZN7Derived4showEv(int64_t * result);
void _ZN7DerivedC2Ev(int64_t * result);
void _ZN7DerivedD0Ev(int64_t * result);
void _ZN7DerivedD2Ev(int64_t * result);
int64_t deregister_tm_clones(void);
int64_t frame_dummy(void);
void function_1070(int64_t * d);
int64_t function_1080(int64_t * a1, char * a2);
int64_t function_1090(int64_t a1);
int64_t function_10a0(int64_t * a1, int64_t a2);
int64_t function_10b0(int64_t * (*a1)(int64_t *));
int64_t register_tm_clones(void);

// --------------------- Global Variables ---------------------

int64_t g3 = 0; // 0x3fd0
int64_t g4 = 0; // 0x4040
char g5 = 0; // 0x4150
int32_t g6;
struct vtable_3d20_type g1 = {
    .e0 = _ZN7Derived4showEv,
    .e1 = _ZN4Base5printEv,
    .e2 = _ZN7DerivedD2Ev,
    .e3 = _ZN7DerivedD0Ev
}; // 0x3d20
struct vtable_3d50_type g2 = {
    .e0 = _ZN4Base4showEv,
    .e1 = _ZN4Base5printEv,
    .e2 = _ZN4BaseD2Ev,
    .e3 = _ZN4BaseD0Ev
}; // 0x3d50

// ------- Dynamically Linked Functions Without Header --------

void __cxa_finalize(int64_t * a1);
void __gmon_start__(void);
int32_t __libc_start_main(int64_t a1, int32_t a2, char ** a3, void (*a4)(), void (*a5)(), void (*a6)());
int64_t _ZdlPvm(int64_t * a1, int64_t a2);
int64_t _ZNSolsEPFRSoS_E(int64_t * (*a1)(int64_t *));
int64_t _Znwm(int64_t a1);
int64_t _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(int64_t * a1, char * a2);

// ------------------------ Functions -------------------------

// Address range: 0x1000 - 0x101b
int64_t _init(void) {
    int64_t result = 0; // 0x1012
    if (*(int64_t *)0x3ff0 != 0) {
        // 0x1014
        __gmon_start__();
        result = &g6;
    }
    // 0x1016
    return result;
}

// Address range: 0x1070 - 0x107a
void function_1070(int64_t * d) {
    // 0x1070
    __cxa_finalize(d);
}

// Address range: 0x1080 - 0x108a
int64_t function_1080(int64_t * a1, char * a2) {
    // 0x1080
    return _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(a1, a2);
}

// Address range: 0x1090 - 0x109a
int64_t function_1090(int64_t a1) {
    // 0x1090
    return _Znwm(a1);
}

// Address range: 0x10a0 - 0x10aa
int64_t function_10a0(int64_t * a1, int64_t a2) {
    // 0x10a0
    return _ZdlPvm(a1, a2);
}

// Address range: 0x10b0 - 0x10ba
int64_t function_10b0(int64_t * (*a1)(int64_t *)) {
    // 0x10b0
    return _ZNSolsEPFRSoS_E(a1);
}

// Address range: 0x10c0 - 0x10e6
int64_t _start(int64_t a1, int64_t a2, int64_t a3, int64_t a4, int64_t a5, int64_t a6) {
    // 0x10c0
    int64_t v1; // 0x10c0
    __libc_start_main(0x11a9, (int32_t)a6, (char **)&v1, NULL, NULL, (void (*)())a3);
    __asm_hlt();
    // UNREACHABLE
}

// Address range: 0x10f0 - 0x1119
int64_t deregister_tm_clones(void) {
    // 0x10f0
    return 0x4018;
}

// Address range: 0x1120 - 0x1159
int64_t register_tm_clones(void) {
    // 0x1120
    return 0;
}

// Address range: 0x1160 - 0x1199
int64_t __do_global_dtors_aux(void) {
    // 0x1160
    if (g5 != 0) {
        // 0x1198
        int64_t result; // 0x1160
        return result;
    }
    // 0x116d
    if (g3 != 0) {
        // 0x117b
        __cxa_finalize((int64_t *)*(int64_t *)0x4008);
    }
    int64_t result2 = deregister_tm_clones(); // 0x1187
    g5 = 1;
    return result2;
}

// Address range: 0x11a0 - 0x11a9
int64_t frame_dummy(void) {
    // 0x11a0
    return register_tm_clones();
}

// From module:   /home/llh/sba/test/test.cpp
// Address range: 0x11a9 - 0x12b7
// Line range:    38 - 57
int main() {
    int64_t * v1 = (int64_t *)_Znwm(8); // 0x11c3
    *v1 = 0;
    _ZN7DerivedC2Ev(v1);
    int64_t * v2 = (int64_t *)_Znwm(8); // 0x11e3
    *v2 = 0;
    _ZN7DerivedC2Ev(v2);
    int64_t * v3 = (int64_t *)_Znwm(8); // 0x1203
    *v3 = 0;
    _ZN4BaseC2Ev(v3);
    return 0;
}

// Address range: 0x12b8 - 0x12f6
// From class:    Base
// Type:          virtual member function
// Demangled:     Base::show()
int64_t _ZN4Base4showEv(int64_t * result) {
    int64_t v1 = _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(&g4, "Base class show function"); // 0x12dc
    return _ZNSolsEPFRSoS_E((int64_t * (*)(int64_t *))v1);
}

// Address range: 0x12f6 - 0x1334
// From class:    Base
// Type:          virtual member function
// Demangled:     Base::print()
int64_t _ZN4Base5printEv(int64_t * result) {
    int64_t v1 = _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(&g4, "Base class print function"); // 0x131a
    return _ZNSolsEPFRSoS_E((int64_t * (*)(int64_t *))v1);
}

// Address range: 0x1334 - 0x1380
// Line range:    17 - 19
// From class:    Base
// Type:          destructor
// Demangled:     Base::~Base()
void _ZN4BaseD2Ev(int64_t * result) {
    // 0x1334
    *result = (int64_t)&g2;
    int64_t v1 = _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(&g4, "Base destructor"); // 0x1366
    _ZNSolsEPFRSoS_E((int64_t * (*)(int64_t *))v1);
}

// Address range: 0x1380 - 0x13af
// Line range:    17 - 19
// From class:    Base
// Type:          virtual member function
// Demangled:     Base::~Base()
void _ZN4BaseD0Ev(int64_t * result) {
    // 0x1380
    _ZN4BaseD2Ev(result);
    _ZdlPvm(result, 8);
}

// Address range: 0x13b0 - 0x13ee
// From class:    Derived
// Type:          virtual member function
// Demangled:     Derived::show()
int64_t _ZN7Derived4showEv(int64_t * result) {
    int64_t v1 = _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(&g4, "Derived class show function"); // 0x13d4
    return _ZNSolsEPFRSoS_E((int64_t * (*)(int64_t *))v1);
}

// Address range: 0x13ee - 0x1446
// Line range:    33 - 35
// From class:    Derived
// Type:          destructor
// Demangled:     Derived::~Derived()
void _ZN7DerivedD2Ev(int64_t * result) {
    // 0x13ee
    *result = (int64_t)&g1;
    int64_t v1 = _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc(&g4, "Derived destructor"); // 0x1420
    _ZNSolsEPFRSoS_E((int64_t * (*)(int64_t *))v1);
    _ZN4BaseD2Ev(result);
}

// Address range: 0x1446 - 0x1475
// Line range:    33 - 35
// From class:    Derived
// Type:          virtual member function
// Demangled:     Derived::~Derived()
void _ZN7DerivedD0Ev(int64_t * result) {
    // 0x1446
    _ZN7DerivedD2Ev(result);
    _ZdlPvm(result, 8);
}

// Address range: 0x1476 - 0x1493
// Line range:    4 - 4
// From class:    Base
// Type:          constructor
// Demangled:     Base::Base()
void _ZN4BaseC2Ev(int64_t * result) {
    // 0x1476
    *result = (int64_t)&g2;
}

// Address range: 0x1494 - 0x14c1
// Line range:    23 - 23
// From class:    Derived
// Type:          constructor
// Demangled:     Derived::Derived()
void _ZN7DerivedC2Ev(int64_t * result) {
    // 0x1494
    _ZN4BaseC2Ev(result);
    *result = (int64_t)&g1;
}

// Address range: 0x14c4 - 0x14d1
int64_t _fini(void) {
    // 0x14c4
    int64_t result; // 0x14c4
    return result;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (13.3.0)
// Detected functions: 22

